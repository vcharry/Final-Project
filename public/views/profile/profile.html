<div class="jumbotron">
    <h2>Welcome, {{currentUser.username}}! </h2>
    <br />
    <div class="container-fluid">
        <div class="panel-group" id="profileAccordion" role="tab" aria-multiselectable="true">
            <div class="panel panel-default">
                <div class="panel-heading" role="tab" id="UpdateUserInfo" data-parent="#profileAccordion"
                     data-target=" #userinfopanel" data-toggle="collapse" aria-controls="userinfopanel">
                    <h4 class="panel-title">
                        Update User Info
                    </h4>
                </div>
                <div id="userinfopanel" class="panel-collapse collapse" role="tabpanel" aria-labelledby="UpdateUserInfo">
                    <div class="panel-body">
                        <form>
                            <div class="form-group">
                                <label for="currentUsername">Username</label>
                                <input ng-model="currentUser.username" class="form-control" />
                            </div>
                            <div class="form-group">
                                <label for="currentPassword">Password</label>
                                <input ng-model="currentUser.password" class="form-control" type="password" />
                            </div>
                            <div class="form-group">
                                <label for="currentEmail">Email</label>
                                <input ng-model="currentUser.email" class="form-control" />
                            </div>
                        </form>
                    </div>
                    <div class="panel-footer">
                        <button class="btn btn-success" ng-click="update(currentUser)">Update</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="page-header">
        <h2>My Favorites</h2>
    </div>
    <div class="container">
        <div class="list-group">
            <a ng-repeat="fav in currentUser.favorites" href="#details" class="list-group-item" ng-click="$root.currentCar = fav">{{fav.make}} / {{fav.model}} / {{fav.year}}<span class="glyphicon glyphicon-chevron-right pull-right"></span></a>
        </div>
    </div>
    <div class="container" ng-show="currentUser.username == 'admin'">
        <div class="panel-default">
            <div class="panel-heading">Admin</div>
            <table class="table colorwhite">
                <tr>
                    <td>&nbsp;</td>
                    <td><input ng-model="user.username" class="form-control" /></td>
                    <td><input ng-model="user.password" class="form-control" type="password" /></td>
                    <td><input ng-model="user.email" class="form-control" /></td>
                    <td><input ng-model="user.favorites" class="form-control" /></td>
                    <td><input ng-model="user.following" class="form-control" /></td>
                    <td><button ng-click="add(user)">&plus;</button>
                    <td><button ng-click="update(user)">&check;</button>
                </tr>

                <tr ng-repeat="user in users">
                    <td>{{user._id}}</td>
                    <td>{{user.username}}</td>
                    <td>&nbsp;</td>
                    <td>{{user.email}}</td>
                    <td>{{user.roles}}</td>
                    <td>{{user.favorites}}</td>
                    <td>{{user.following}}</td>
                    <td><button ng-click="remove(user)">X</button>
                    <td><button ng-click="select(user)">...</button>
                </tr>
            </table>
        </div>
    </div>

</div>
